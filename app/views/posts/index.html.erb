<div class="post mt-4">
  <p style="color: green"><%= notice %></p>
  <div class="d-flex justify-content-between align-items-center mb-2">
    <h1>Posts</h1>
    <div><%= link_to "New post", new_post_path, class: "btn btn-success" %></div>
  </div>
  <div id="posts">
    <table class="table">
      <thead>
        <tr>
          <th scope="col" style="width: 30px">#</th>
          <th scope="col" style="width: 350px">Title</th>
          <th scope="col" style="width: 120px">Cover image</th>
          <th scope="col">Content</th>
          <th scope="col" style="width: 120px">Action</th>
        </tr>
      </thead>
      <tbody>
        <% @posts.each_with_index do |post, index| %>
          <tr>
            <td scope="row"><%= post.id %></td>
            <td><%= post.title %></td>
            <td><%= image_tag post.cover_img_url, alt: post.title, class: "w-75 img-thumbnail-radius" if post.cover_img_url.present? %></td>
            <td><%= truncate(strip_tags(post.content), length: 150) %></td>
            <td>
              <div class="d-flex justify-content-center align-items-center gap-1">
                <%= link_to "Edit", edit_post_path(post), class: "btn btn-primary" %>
                <%= button_to "Delete", post_path(post), method: :delete, data: { confirm: "Are you sure you want to delete this post?" }, class: "btn btn-danger" %>
              </div>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
    <%= render 'layouts/pagination' %>
  </div>
</div>
